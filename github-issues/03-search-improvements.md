# Enhancement: Improve Search Experience

**Label:** `enhancement`

---

## 概要

検索機能を強化し、検索結果の件数表示、結果間のナビゲーション、より目立つハイライトを追加する。

## 背景

現在の検索機能は基本的なフィルタリングを提供していますが、以下の問題があります:
- 検索結果が何件あるか分からない
- 多数の結果がある場合、目的のノードを見つけにくい
- 検索マッチ部分のハイライトが控えめ（黄色背景のみ）

## 提案

### 1. 検索結果件数の表示

SearchBarコンポーネントの下または横に表示:
```
[検索ボックス] 🔍
15件の結果
```

### 2. 検索結果ナビゲーション

検索結果間を移動するためのボタンを追加:
```
[検索ボックス] 🔍 [↑] [↓]
3 / 15
```

機能:
- `↑` 前の結果へジャンプ
- `↓` 次の結果へジャンプ
- 現在の位置と全体数を表示（例: "3 / 15"）
- 該当ノードまで自動的にスクロール＆展開

キーボードショートカット:
- `Enter`: 次の結果へ
- `Shift+Enter`: 前の結果へ
- `Ctrl+G` / `Ctrl+Shift+G`: 次/前の結果（VSCode風）

### 3. 検索ハイライトの強化

現在の実装（`bg-yellow-50`）をより目立つスタイルに変更:
- マッチしたテキスト自体を強調表示（`bg-yellow-200 font-semibold`）
- 現在選択中の結果は別の色（`bg-orange-300`）で表示

### 4. 検索のクリア

現在実装されている×ボタンに加えて:
- ESCキーで検索をクリア
- 検索結果件数の横に「クリア」リンク

## 実装の詳細

### 必要な状態管理

```typescript
const [searchMatches, setSearchMatches] = useState<MibNode[]>([]);
const [currentMatchIndex, setCurrentMatchIndex] = useState<number>(0);
```

### 影響を受けるコンポーネント

1. **SearchBar.tsx**
   - 検索結果件数の表示
   - ナビゲーションボタンの追加

2. **App.tsx**
   - 検索マッチのリストを管理
   - 現在のマッチインデックスを管理
   - ナビゲーション関数の実装

3. **MibTreeView.tsx** / **TreeNode.tsx**
   - 現在選択中のマッチを異なるスタイルで表示
   - 自動スクロール機能

## メリット

- 大量の検索結果でも効率的にナビゲート可能
- 検索体験が他の高機能エディタ（VSCode、Chromeデベロッパーツールなど）に近づく
- 目的のノードを見つけやすくなる

## 難易度

**中** - 4-6時間程度で実装可能

実装の複雑さ:
- 検索結果件数表示: 簡単
- ナビゲーションボタン: 中程度（状態管理とスクロール処理）
- ハイライト強化: 簡単

## 関連issue

- #0 Feature Improvement Roadmap
